<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Invoice</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="container">
            <h1>Sistem Invoice</h1>
            <button class="btn btn-primary" onclick="openForm()">
                <span class="icon">+</span> Buat Invoice Baru
            </button>
        </div>
    </div>

    <!-- Tabel Invoice -->
    <div class="container">
        <div class="card">
            <div class="table-wrapper">
                <table id="invoiceTable">
                    <thead>
                        <tr>
                            <th>No. Invoice</th>
                            <th>Pelanggan</th>
                            <th>Tanggal</th>
                            <th>Total</th>
                            <th class="text-center">Aksi</th>
                        </tr>
                    </thead>
                    <tbody id="invoiceTableBody">
                        <tr>
                            <td colspan="5" class="text-center empty-state">
                                Belum ada invoice. Klik "Buat Invoice Baru" untuk memulai.
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal Form -->
    <div id="formModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="formTitle">Buat Invoice Baru</h2>
            </div>
            <div class="modal-body">
                <!-- Info Invoice -->
                <div class="form-row">
                    <div class="form-group">
                        <label>No. Invoice</label>
                        <input type="text" id="invoiceNumber" placeholder="Otomatis jika dikosongkan">
                    </div>
                    <div class="form-group">
                        <label>Tanggal <span class="required">*</span></label>
                        <input type="date" id="invoiceDate" required>
                    </div>
                   
                    <div class="form-group">
                        <label>Pajak (%)</label>
                        <input type="number" id="taxRate" value="0" min="0" max="100" step="0.01">
                    </div>
                </div>

                <!-- Info Pelanggan -->
                <h3>Informasi Pelanggan</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Nama</label>
                        <input type="text" id="customerName" placeholder="Opsional">
                    </div>
                   
                    <div class="form-group">
                        <label>Alamat</label>
                        <input type="text" id="customerAddress" placeholder="Opsional">
                    </div>
                </div>

                <!-- Items -->
                <div class="items-header">
                    <h3>Item</h3>
                    <button type="button" class="btn btn-success" onclick="addItem()">
                        <span class="icon">+</span> Tambah Item
                    </button>
                </div>
                <div id="itemsContainer"></div>

                <!-- Total -->
                <div class="total-box">
                    <div class="total-row">
                        <span>Subtotal:</span>
                        <span id="subtotalDisplay">Rp 0</span>
                    </div>
                    <div class="total-row">
                        <span>Pajak (<span id="taxDisplay">0</span>%):</span>
                        <span id="taxAmountDisplay">Rp 0</span>
                    </div>
                    <div class="total-row total-final">
                        <span>Total:</span>
                        <span id="totalDisplay">Rp 0</span>
                    </div>
                </div>

                <!-- Catatan -->
                <div class="form-group">
                    <label>Catatan</label>
                    <textarea id="notes" rows="3"></textarea>
                </div>

                <!-- Buttons -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeForm()">Batal</button>
                    <button type="button" class="btn btn-primary" onclick="saveInvoice()">
                        <span class="icon">üíæ</span> Simpan
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Preview -->
    <div id="previewModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header no-print">
                <h2>Preview Invoice</h2>
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="printInvoice()">
                        <span class="icon">üñ®Ô∏è</span> Print
                    </button>
                    <button class="btn btn-secondary" onclick="closePreview()">
                        <span class="icon">‚úñ</span> Tutup
                    </button>
                </div>
            </div>
            <div class="modal-body" id="previewContent">
                <!-- Preview content will be inserted here -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>